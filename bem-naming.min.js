(function(global){var TYPES={BLOCK:"block",BLOCK_MOD:"blockMod",ELEM:"elem",ELEM_MOD:"elemMod"};function BEMNaming(options){options||(options={});this.elemDelim=options.elem||options.elemSeparator||"__";this.modDelim=options.mod||options.modSeparator||"_";this._wordPattern=options.wordPattern||options.literal&&options.literal+"+"||"[a-zA-Z0-9]+(?:-[a-zA-Z0-9]+)*";this._buildRegex()}BEMNaming.prototype.validate=function(str){return this._regex.test(str)};BEMNaming.prototype.typeOf=function(obj){if(typeof obj==="string"){obj=this.parse(obj)}if(!obj||!obj.block)return;var modName=obj.modName,isMod=modName&&(obj.modVal||!obj.hasOwnProperty("modVal"));if(obj.elem){if(isMod)return TYPES.ELEM_MOD;if(!modName)return TYPES.ELEM}if(isMod)return TYPES.BLOCK_MOD;if(!modName)return TYPES.BLOCK};BEMNaming.prototype.isBlock=function(obj){return this.typeOf(obj)===TYPES.BLOCK};BEMNaming.prototype.isBlockMod=function(obj){return this.typeOf(obj)===TYPES.BLOCK_MOD};BEMNaming.prototype.isElem=function(obj){return this.typeOf(obj)===TYPES.ELEM};BEMNaming.prototype.isElemMod=function(obj){return this.typeOf(obj)===TYPES.ELEM_MOD};BEMNaming.prototype.parse=function(str){var executed=this._regex.exec(str);if(!executed)return;var notation={block:executed[1]||executed[4]},elem=executed[5],modName=executed[2]||executed[6];elem&&(notation.elem=elem);if(modName){var modVal=executed[3]||executed[7];notation.modName=modName;notation.modVal=modVal||true}return notation};BEMNaming.prototype.stringify=function(obj){if(!obj||!obj.block){throw new Error("The field `block` is undefined. It is impossible to stringify BEM notation.")}var res=obj.block;if(obj.elem){res+=this.elemDelim+obj.elem}if(obj.modName){var modVal=obj.modVal;if(modVal||modVal===0||!obj.hasOwnProperty("modVal")){res+=this.modDelim+obj.modName}if(modVal&&modVal!==true){res+=this.modDelim+modVal}}return res};BEMNaming.prototype._buildRegex=function(){var word=this._wordPattern,block="("+word+")",elem="(?:"+this.elemDelim+"("+word+"))?",modPart="(?:"+this.modDelim+"("+word+"))?",mod=modPart+modPart;this._regex=new RegExp("^"+block+mod+"$|^"+block+elem+mod+"$")};var defineAsGlobal=true,cache={},bemNaming=function(options){options||(options={});var naming={elem:options.elem||options.elemSeparator||"__",mod:options.mod||options.modSeparator||"_",wordPattern:options.wordPattern||options.literal&&options.literal+"+"||"[a-zA-Z0-9]+(?:-[a-zA-Z0-9]+)*"},id=JSON.stringify(naming);return cache[id]||(cache[id]=new BEMNaming(naming))},originalNaming=bemNaming();bemNaming.BEMNaming=BEMNaming;bemNaming.validate=function(){return originalNaming.validate.apply(originalNaming,arguments)};bemNaming.parse=function(){return originalNaming.parse.apply(originalNaming,arguments)};bemNaming.stringify=function(){return originalNaming.stringify.apply(originalNaming,arguments)};bemNaming.typeOf=function(){return originalNaming.typeOf.apply(originalNaming,arguments)};bemNaming.isBlock=function(){return originalNaming.isBlock.apply(originalNaming,arguments)};bemNaming.isElem=function(){return originalNaming.isElem.apply(originalNaming,arguments)};bemNaming.isBlockMod=function(){return originalNaming.isBlockMod.apply(originalNaming,arguments)};bemNaming.isElemMod=function(){return originalNaming.isElemMod.apply(originalNaming,arguments)};if(typeof exports==="object"){module.exports=bemNaming;defineAsGlobal=false}if(typeof modules==="object"){modules.define("bem-naming",function(provide){provide(bemNaming)});defineAsGlobal=false}if(typeof define==="function"){define(function(require,exports,module){module.exports=bemNaming});defineAsGlobal=false}defineAsGlobal&&(global.bemNaming=bemNaming)})(this);